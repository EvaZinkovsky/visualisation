---
# Please do not edit this file directly; it is auto generated.
# Instead, please edit 01-visualisation.md in _episodes_rmd/
title: "Introduction to Visualisation"
keypoints:
- "Visualisation is very valuable in data representation and investigation"
- "A picture paints a thousand data points"
- "Don't use rainbow colour scales!"
- "Simple but powerful"
objectives:
- "Choosing an effective data visualisation"
questions:
- "Why do we visualise data?"
- "What are some common errors in visualisation?"
source: Rmd
teaching: 50
exercises: 20
---





## Why do we visualise data?

What do you do when you first explore a dataset in R? Perhaps look inside the data structure to see what kind of data is there.  Perhaps run summary statistics to get an idea of the value ranges.  But can you really see if the data is telling a hidden story?


<img src="../fig/rmd-01-dino_scatter-1.png" title="plot of chunk dino_scatter" alt="plot of chunk dino_scatter" width="50%" style="display: block; margin: auto;" />


In this example, we've loaded a data file with a number of datasets, each with x and y values.


~~~
# A tibble: 1,846 x 3
   dataset     x     y
     <dbl> <dbl> <dbl>
 1       4  55.4  97.2
 2       4  51.5  96.0
 3       4  46.2  94.5
 4       4  42.8  91.4
 5       4  40.8  88.3
 6       4  38.7  84.9
 7       4  35.6  79.9
 8       4  33.1  77.6
 9       4  29.0  74.5
10       4  26.2  71.4
# ... with 1,836 more rows
~~~
{: .output}

By running a statistics summary on each dataset, we get exactly the same statistics for `mean` and `sd`.  Does this mean the data is all the same?


~~~
data %>%
  group_by(dataset) %>%
  summarise(
    mean_x = mean(x),
    mean_y = mean(y),
    sd_x = sd(x),
    sd_y = sd(y),
    correlation = cor(x,y)
  )
~~~
{: .language-r}



~~~
# A tibble: 13 x 6
   dataset mean_x mean_y  sd_x  sd_y correlation
     <dbl>  <dbl>  <dbl> <dbl> <dbl>       <dbl>
 1       1   54.3   47.8  16.8  26.9     -0.0641
 2       2   54.3   47.8  16.8  26.9     -0.0686
 3       3   54.3   47.8  16.8  26.9     -0.0683
 4       4   54.3   47.8  16.8  26.9     -0.0645
 5       5   54.3   47.8  16.8  26.9     -0.0603
 6       6   54.3   47.8  16.8  26.9     -0.0617
 7       7   54.3   47.8  16.8  26.9     -0.0685
 8       8   54.3   47.8  16.8  26.9     -0.0690
 9       9   54.3   47.8  16.8  26.9     -0.0686
10      10   54.3   47.8  16.8  26.9     -0.0630
11      11   54.3   47.8  16.8  26.9     -0.0694
12      12   54.3   47.8  16.8  26.9     -0.0666
13      13   54.3   47.8  16.8  26.9     -0.0656
~~~
{: .output}

> ## Challenge 1
> How could we tell if the datasets actually have the same values?
> > ## Solution
> > We'll plot them!
> > And it immediately becomes apparent that the datasets **are** different.
> > These data sets are known as [the datasaurus dozen](https://www.autodeskresearch.com/publications/samestats).
> > A group of 12 two-dimensional datasets that have identical:
> >
> > * mean in both dimensions
> > * sd in both dimensions
> > * correlation between x and y
> >
> > <img src="../fig/rmd-01-scatter12-1.png" title="plot of chunk scatter12" alt="plot of chunk scatter12" width="60%" style="display: block; margin: auto;" />
>{: .solution}
{:.challenge}


## Role of data visualisation

In general, there are two roles of data visualisations:

* As a discovery tool, to explore a dataset
* As a storytelling tool, to highlight features of a dataset

An effective data visualisation brings the data to life thus aiding the viewer's understanding of patterns, trends and outliers inherent in the dataset.

> ## Discussion - What makes an effective data visualisation?
>
> The figure below is from an [Axios article](https://www.axios.com/the-state-of-the-space-race-in-1-chart-1516917901-0bf90c42-25c6-4c98-a29f-d000e43e342a.html)
> about satellite launches.
> !["State of the space race"](../fig/space-race.jpg){:class="fig-responsive" style="max-width:70%"}
>
> How effective is this visualisation at conveying the story of the dataset, and what features do
> you feel contribute to that success?
{: .discussion}

## Designing effective visualisations

While by no means a comprehensive list, there are a number of things you might want to think about
when constructing a visualisation of your own.

### Avoid displaying a data variable in multiple ways

Think back to the exercise on the 3D bar chart:
![](../fig/mayer2017.PNG){:class="fig-responsive" style="max-width:60%"}

The same variable was mapped to both the z axis and the bar colour, creating a redundancy. This is not necessarily a problem, but can usually be avoided without losing any clarity in the plot. Cutting out the redundancy also frees up a visual property to encode new information if you are looking to
show the relationships between more data.

### Avoid using multiple displays for one data variable

Consider the following figure from [Spurious Correlations](https://tylervigen.com/spurious-correlations)

![](../fig/dual_y.png){:class="fig-responsive" style="max-width:100%"}
> ## Challenge
> Draw out the links between data variable and different displays in this figure. What is strange
> about this?
> > ## Solution
> > There are two data variables that have both been mapped to the y axis.
> {:.solution}
{:.challenge}

By mapping two variables to the same display component we lose clarity in the plot. It takes time and mental effort to separate the same visual property back to two potential data sources.

In particular, if your two data sources are not on the same scale it can be very [easy to influence the interpretation](https://blog.datawrapper.de/dualaxis/) of the data by changing their scales separately.

### Consider your plot types carefully
One reason why there are so many types of plots is because different geometries can be interpreted
very differently by the human brain, even though they display the same data. Perhaps the best example
of this is bar charts, and the discussions around [whether they should always start at zero](https://flowingdata.com/2015/08/31/bar-chart-baselines-start-at-zero/).

When looking at a bar chart, the *length* of the bar is what determines how people interpret the data.
This differs from an equivalent chart that used points in which the *position* of the point is what
matters. Changing the baseline of a bar chart can drastically alter how the chart gets interpreted:


~~~
Warning: `expand_scale()` is deprecated; use `expansion()` instead.
~~~
{: .error}

<img src="../fig/rmd-01-bar_zero-1.png" title="plot of chunk bar_zero" alt="plot of chunk bar_zero" width="100%" style="display: block; margin: auto;" />

This can be seen even more readily when the shape chosen is more easily mapped to a real, physical
object.

![](../fig/bad_chart.jpeg){:class="fig-responsive" style="max-width:60%"}

> ## Discussion
> Are there any other features of this figure that make it an ineffective visualisation?
{:.discussion}

## Colour

### Friends don't let friends use rainbow colour scales

Rainbow colour scales are very, very common in scientific literature. They are a very natural way to represent quantitative data - the wavelength of the colour changes in a linear relationship with the data.

The problem is that our eyes don't perceive those changes in colour in a uniform way.



![rainbow-colourbar](../fig/rainbow-colourbar.PNG){:class="fig-responsive" style="max-width:60%"}

This can have serious real world consequences for scientific data visualisation.

![rainbow-problems](../fig/rainbow-01.PNG)

The plot on the left was published in a [paper in 2006](https://www.atmos-chem-phys.net/6/5183/2006/) using a rainbow colour scale, and reproduced in a sequential colour scale on the right (from [https://www.atmos-chem-phys.net/6/5183/2006/](https://www.atmos-chem-phys.net/6/5183/2006/).

In the versions below, the blue line represent a false boundary that was identified in the data, entirely due to the way our eyes perceive colour - it isn't actually present in the data!

![rainbow-problems2](../fig/rainbow-02.PNG)

It's not just continuous rainbow colour scales that have this problem. Once you start looking for them, you will see them everywhere.

[One of the worst offenders.](http://bom.gov.au/products/IDR403.loop.shtml)

### Other colour considerations

Aside from the evils of rainbow colour scales, it is also important to consider issues such as:
- colour blindness
- reproduction of figures in monotone (black and white)
- using too many colours for them to be distinguished from each other

An excellent resource for many considerations to do with colour in visualisation is [ColorBrewer](http://colorbrewer2.org/), which provides a range of scales for different applications.

> ## Challenge
> Explore [ColorBrewer](http://colorbrewer2.org/) to understand how it can be used to choose colour
> palettes. If you had four categories in your data to be represented by colour, how many palettes
> can you find that are colourblind friendly for each of the sequential, diverging, and qualitative
> palettes?
>
> > ## Solution
> > Sequential: 18
> >
> > Diverging: 6
> >
> > Qualitative: 1
> {:.solution}
{:.challenge}

## Ink to information ratio

Compare the amount of ink used with the amount of information communicated. A high ink:information can indicate a plot that hasn't been thought through, and is often distracting or confusing. This is a
good prism to evaluate your plots and assess the inclusion of each component. Everything in a plot
should be there for a reason.

These plots often contain 'chart junk' (Edward Tufte).
<img src="../fig/high-ink.PNG" width="425"/> <img src="../fig/low-ink.PNG" width="425"/>

> ## Challenge
>
> Compare the above figure.
> - Which elements are removed in the second version?
> - Which elements could still be removed? What is their purpose?
{: .challenge}

## Show as much raw data as possible

By putting your raw data into a figure, it becomes easier to see the true patterns in the data.
Remember with the datasaurus dozen dataset where summary statistics obscured the true meaning in the
data.


~~~
Warning: Computation failed in `stat_summary()`:
Hmisc package required for this function
~~~
{: .error}

<img src="../fig/rmd-01-show_raw-1.png" title="plot of chunk show_raw" alt="plot of chunk show_raw" width="100%" style="display: block; margin: auto;" />

> ## Discussion
> How do your interpretations of the data change in the above plots as you move closer towards the raw data?
{:.discussion}

### Overplotting

As a result of the suggestion to show your raw data, you will quickly run into the problem of **overplotting** when there are too many data points...

<img src="../fig/rmd-01-unnamed-chunk-1-1.png" title="plot of chunk unnamed-chunk-1" alt="plot of chunk unnamed-chunk-1" width="70%" style="display: block; margin: auto;" />
> ## Discussion
>
> What are some possible solutions to overplotting?
{: .discussion}

#### Transparency

<img src="../fig/rmd-01-unnamed-chunk-2-1.png" title="plot of chunk unnamed-chunk-2" alt="plot of chunk unnamed-chunk-2" width="70%" style="display: block; margin: auto;" />

#### Jittering

<img src="../fig/rmd-01-unnamed-chunk-3-1.png" title="plot of chunk unnamed-chunk-3" alt="plot of chunk unnamed-chunk-3" width="70%" style="display: block; margin: auto;" />

#### Binning

By binning and counting the data points you start to step away from displaying the raw data.
But when you have large datasets to show, it may be the best solution.
<img src="../fig/rmd-01-unnamed-chunk-4-1.png" title="plot of chunk unnamed-chunk-4" alt="plot of chunk unnamed-chunk-4" width="70%" style="display: block; margin: auto;" />


Remember that the goal of a visualisation is to explain some feature of a dataset. We want to make
sure that our figures are clean, clear and easily ingerpretable. If unsure, ask someone with a fresh pair
of eyes to look over your figure and see if they can explain what is going on.

> ## Challenge
> Go back to your own figure that you described in a previous challenge. Critically examine it for
> areas that could be improved.
>
> Ask a partner to look over your figure and tell you what the main message is.
{:.challenge}
